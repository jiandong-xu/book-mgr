{"version":3,"sources":["webpack:///./src/views/BookClassify/index.vue","webpack:///./src/views/BookClassify/index.jsx","webpack:///./src/views/BookClassify/index.vue?2498"],"names":["title","value","placeholder","style","add","type","bordered","data-source","list","columns","pagination","actions","record","size","updateTitle","remove","dataIndex","slots","customRender","defineComponent","setup","ref","getList","bookClassify","res","result","success","data","onMounted","_id","msg","message","Modal","confirm","content","onOk","document","querySelector","__exports__","render"],"mappings":"sJAQ2B,O,iBAE2B,M,iBAgBrC,Q,iBAQA,M,kMAjCb,eAwCM,YAvCF,eAsCS,GAtCDA,MAAM,UAAQ,C,wBAClB,iBAQM,CARN,eAQM,YAPF,eAIW,GAHHC,MAAO,EAAAD,M,gDAAA,EAAAA,MAAK,IACpBE,YAAY,SACZC,MAAA,iB,oBAGA,eAAmD,GAAxC,QAAO,EAAAC,IAAKC,KAAK,W,yBAAU,iBAAE,C,4BAG5C,eAAuB,GAE3B,eAwBM,YAvBF,eAoBU,GAnBVC,SAAA,GACCC,cAAa,EAAAC,KACbC,QAAS,EAAAA,QACTC,YAAY,G,CAEFC,QAAO,gBACd,gBADiBC,EACjB,EADiBA,OACjB,MADuB,CACvB,eAKW,GAJXC,KAAK,QACJ,QAAK,mBAAE,EAAAC,YAAYF,K,yBACnB,iBAED,C,6BAEA,eAIc,GAHdC,KAAK,QACJ,QAAK,mBAAE,EAAAE,OAAOH,IACfP,KAAK,U,yBACJ,iBAAE,C,yKC7BbI,EAAU,CACZ,CACIT,MAAM,KACNgB,UAAU,SAEd,CACIhB,MAAM,KACNiB,MAAM,CACFC,aAAa,aAKVC,iBAAgB,CAC3BC,MAD2B,WAEvB,IAAMpB,EAAQqB,eAAI,IACZb,EAAOa,eAAI,IAEXC,EAAO,yDAAG,oHACMC,OAAaf,OADnB,OACNgB,EADM,OAGZC,eAAOD,GACFE,SAAQ,YAAY,IAAVC,EAAU,EAAVA,KACPnB,EAAKP,MAAQ0B,KALT,2CAAH,qDASPvB,EAAG,yDAAG,oHACUmB,OAAanB,IAAIJ,EAAMC,OADjC,OACFuB,EADE,OAGRC,eAAOD,GACFE,SAAQ,WACLJ,IACAtB,EAAMC,MAAQ,MANd,2CAAH,qDAUT2B,gBAAU,WACNN,OAGJ,IAAMP,EAAM,yDAAG,8GAAQc,EAAR,EAAQA,IAAR,SACON,OAAaR,OAAOc,GAD3B,OACLL,EADK,OAGXC,eAAOD,GACFE,SAAQ,YAAW,IAATI,EAAS,EAATA,IACPC,OAAQL,QAAQI,GAChBR,OANG,2CAAH,sDAUNR,EAAW,yDAAG,qGAAQe,EAAR,EAAQA,IACxBG,OAAMC,QAAQ,CACVjC,MAAM,YACNkC,QAAS,0CAAC,QAAH,MAEc,6BAFd,QAKPC,KAAI,yDAAC,6GACKnC,EAAQoC,SAASC,cAAc,8BAA8BpC,MADlE,SAGiBsB,OAAaT,YAAYe,EAAI7B,GAH9C,OAGKwB,EAHL,OAKDC,eAAOD,GACFE,SAAQ,YAAW,IAATI,EAAS,EAATA,IACPC,OAAQL,QAAQI,GAChBR,OARP,2CAAD,0DARQ,2CAAH,sDAsBjB,MAAO,CACHlB,MACAI,OACAR,QACAS,UACAM,SACAO,UACAR,kB,qBChFZ,MAAMwB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/BookClassify.528ea8bc.js","sourcesContent":["<template>\r\n    <div>\r\n        <a-card title=\"书籍分类管理\">\r\n            <div>\r\n                <a-input \r\n                v-model:value=\"title\"\r\n                placeholder=\"输入书籍分类\" \r\n                style=\"width:200px\"\r\n                ></a-input>\r\n                &nbsp;\r\n                <a-button @click=\"add\" type=\"primary\">添加</a-button>\r\n            </div>\r\n\r\n            <a-divider></a-divider>\r\n\r\n        <div>\r\n            <a-table \r\n            bordered\r\n            :data-source=\"list\"\r\n            :columns=\"columns\"\r\n            :pagination=\"false\"\r\n            >\r\n            <template #actions=\"{record}\">\r\n                <a-button\r\n                size=\"small\"\r\n                @click=\"updateTitle(record)\"\r\n                >\r\n                修改\r\n                </a-button>\r\n\r\n                <a-button\r\n                size=\"small\"\r\n                @click=\"remove(record)\"\r\n                type=\"danger\"\r\n                >删除</a-button>\r\n            </template>\r\n            </a-table>\r\n\r\n            \r\n        </div>\r\n        </a-card>\r\n    </div>\r\n</template>\r\n\r\n<script src=\"./index.jsx\"></script>","import {defineComponent,onMounted,ref} from 'vue';\r\nimport {bookClassify} from '../../service/index';\r\nimport {result} from '../../helpers/utils';\r\nimport { message,Modal,Input } from 'ant-design-vue';\r\n\r\nconst columns = [\r\n    {\r\n        title:'分类',\r\n        dataIndex:'title'\r\n    },\r\n    {\r\n        title:'操作',\r\n        slots:{\r\n            customRender:'actions'\r\n        }\r\n    },\r\n]\r\n\r\nexport default defineComponent({\r\n    setup() {\r\n        const title = ref('');\r\n        const list = ref([]);\r\n\r\n        const getList = async () => {\r\n            const res = await bookClassify.list();\r\n\r\n            result(res)\r\n                .success(({data}) => {\r\n                    list.value = data;\r\n                });\r\n        };\r\n\r\n        const add = async () => {\r\n            const res = await bookClassify.add(title.value);\r\n\r\n            result(res) \r\n                .success(() => {\r\n                    getList();\r\n                    title.value = '';\r\n                });\r\n        };\r\n\r\n        onMounted(() => {\r\n            getList();\r\n        })\r\n\r\n        const remove = async ({_id}) => {\r\n            const res = await bookClassify.remove(_id);\r\n\r\n            result(res) \r\n                .success(({msg}) => {\r\n                    message.success(msg);\r\n                    getList();\r\n                })\r\n        }\r\n\r\n        const updateTitle = async ({_id}) => {\r\n            Modal.confirm({\r\n                title:'请输入新的分类名称',\r\n                content: (\r\n                    <div>\r\n                        <Input class=\"__book_classify_new_title\"></Input>\r\n                    </div>\r\n                ),\r\n                onOk:async() => {\r\n                    const title = document.querySelector('.__book_classify_new_title').value;\r\n\r\n                    const res = await bookClassify.updateTitle(_id,title);\r\n\r\n                    result(res)\r\n                        .success(({msg}) => {\r\n                            message.success(msg);\r\n                            getList();\r\n                        })\r\n                }\r\n            })\r\n        }\r\n\r\n        return {\r\n            add,\r\n            list,\r\n            title,\r\n            columns,\r\n            remove,\r\n            getList,\r\n            updateTitle\r\n        };\r\n    }\r\n});","import { render } from \"./index.vue?vue&type=template&id=0d46f2ca\"\nimport script from \"./index.jsx?vue&type=script&lang=js\"\nexport * from \"./index.jsx?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\projects\\\\book-mgr-develop\\\\book-mgr-fe\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}