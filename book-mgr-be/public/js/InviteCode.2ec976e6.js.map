{"version":3,"sources":["webpack:///./src/views/InviteCode/index.vue","webpack:///./src/views/InviteCode/index.js","webpack:///./src/views/InviteCode/index.vue?2686"],"names":["title","value","count","min","max","type","add","pagination","bordered","columns","data-source","list","status","record","user","actions","remove","size","style","current","curPage","pageSize","total","setPage","dataIndex","slots","customRender","defineComponent","setup","ref","getList","inviteCode","res","result","success","data","l","t","onMounted","page","message","_id","msg","__exports__","render"],"mappings":"oJAIyF,O,iBAEvC,M,iBAsBjC,M,uQA3BjB,eAyCU,YAxCN,eAuCS,GAvCDA,MAAM,SAAO,C,wBACjB,iBAIM,CAJN,eAIM,YAHF,eAA6E,GAArDC,MAAO,EAAAC,M,gDAAA,EAAAA,MAAK,IAAGC,IAAK,EAAIC,IAAK,K,oBAErD,eAAmD,GAAzCC,KAAK,UAAW,QAAO,EAAAC,K,yBAAK,iBAAE,C,4BAG5C,eAAa,GAEb,eAoBM,YAnBF,eAkBU,GAjBTC,YAAY,EACbC,SAAA,GACCC,QAAS,EAAAA,QACTC,cAAa,EAAAC,M,CAGFC,OAAM,gBACd,gBADiBC,EACjB,EADiBA,OACjB,MADuB,C,8BACrBA,EAAOC,KAAI,oBAGNC,QAAO,gBACd,gBADiBF,EACjB,EADiBA,OACjB,MADuB,CACvB,eAIc,GAHb,QAAK,mBAAE,EAAAG,OAAOH,IACfI,KAAK,QACLZ,KAAK,U,yBACJ,iBAAE,C,qEAKX,eAOW,GAPDa,MAAA,uBAAwB,C,wBAC9B,iBAKgB,CALhB,eAKgB,GAJRC,QAAS,EAAAC,Q,kDAAA,EAAAA,QAAO,IACvBC,SAAU,GACVC,MAAO,EAAAA,MACP,SAAQ,EAAAC,S,6HCjCfd,EAAU,CAAC,CACbT,MAAM,MACNwB,UAAU,QAEd,CACIxB,MAAM,OACNyB,MAAO,CACHC,aAAa,WAGrB,CACI1B,MAAM,KACNyB,MAAO,CACHC,aAAa,aAKNC,iBAAgB,CAC3BC,MAD2B,WAEvB,IAAM1B,EAAQ2B,eAAI,GACZT,EAAUS,eAAI,GACdlB,EAAOkB,eAAI,IACXP,EAAQO,eAAI,GAEZC,EAAO,yDAAG,oHACEC,OAAWpB,KAAKS,EAAQnB,MAAM,IADhC,OACV+B,EADU,OAGhBC,eAAOD,GACFE,SAAQ,YAA6B,QAA3BC,KAAWC,EAAgB,EAArBzB,KAAa0B,EAAQ,EAAdf,MACpBX,EAAKV,MAAQmC,EACbd,EAAMrB,MAAQoC,KANN,2CAAH,qDAUbC,gBAAU,WACNR,OAGJ,IAAMP,EAAU,SAACgB,GACbnB,EAAQnB,MAAQsC,EAChBT,KAGExB,EAAG,yDAAG,oHACUyB,OAAWzB,IAAIJ,EAAMD,OAD/B,OACF+B,EADE,OAGRC,eAAOD,GACFE,SAAQ,WACLM,OAAQN,QAAR,cAAuBhC,EAAMD,MAA7B,QACA6B,OANA,2CAAH,qDAUHd,EAAM,yDAAG,8GAAQyB,EAAR,EAAQA,IAAR,SACOV,OAAWf,OAAOyB,GADzB,OACLT,EADK,OAGXC,eAAOD,GACFE,SAAQ,YAAW,IAATQ,EAAS,EAATA,IACPF,OAAQN,QAAQQ,GAEhBZ,OAPG,2CAAH,sDAWZ,MAAO,CACH5B,QACAS,OACAW,QACAb,UACAW,UACAd,MACAiB,UACAP,a,qBCzEZ,MAAM2B,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/InviteCode.2ec976e6.js","sourcesContent":["<template>\r\n<div>\r\n    <a-card title='邀请码管理'>\r\n        <div>\r\n            <a-input-number v-model:value=\"count\" :min=\"1\" :max=\"10000\"></a-input-number>\r\n            &nbsp;\r\n            <a-button type=\"primary\" @click=\"add\">添加</a-button>\r\n        </div>\r\n\r\n        <a-divider />\r\n\r\n        <div>\r\n            <a-table\r\n            :pagination=\"false\"\r\n            bordered\r\n            :columns=\"columns\"\r\n            :data-source=\"list\"\r\n            >\r\n\r\n             <template #status=\"{record}\">\r\n                {{record.user ? '已使用':'未使用'}}\r\n            </template>\r\n\r\n            <template #actions=\"{record}\">\r\n                <a-button\r\n                @click=\"remove(record)\"\r\n                size=\"small\"\r\n                type=\"danger\"\r\n                >删除</a-button>\r\n            </template>\r\n            </a-table>\r\n        </div>\r\n\r\n        <flex-end style=\"margin-top: 24px\">\r\n            <a-pagination\r\n            v-model:current=\"curPage\"\r\n            :pageSize=\"20\"\r\n            :total=\"total\"\r\n            @change=\"setPage\"\r\n            ></a-pagination>\r\n        </flex-end>\r\n    </a-card>\r\n    </div>\r\n</template>\r\n\r\n<script src=\"./index.js\"></script>","import {defineComponent,ref,onMounted} from 'vue';\r\nimport {inviteCode} from '../../service';\r\nimport { result } from '../../helpers/utils'\r\nimport {message} from 'ant-design-vue'\r\n\r\nconst columns = [{\r\n    title:'邀请码',\r\n    dataIndex:'code'\r\n},\r\n{\r\n    title:'使用状态',\r\n    slots: {\r\n        customRender:'status'\r\n    }\r\n},\r\n{\r\n    title:'操作',\r\n    slots: {\r\n        customRender:'actions'\r\n    }\r\n}\r\n];\r\n\r\nexport default defineComponent({\r\n    setup() {\r\n        const count = ref(1);\r\n        const curPage = ref(1);\r\n        const list = ref([]);\r\n        const total = ref(0);\r\n\r\n        const getList = async () => {\r\n        const res = await inviteCode.list(curPage.value,20);\r\n        \r\n        result(res)\r\n            .success(({data:{list:l,total:t}}) => {\r\n                list.value = l;\r\n                total.value = t;\r\n            });\r\n        };\r\n\r\n        onMounted(() => {\r\n            getList();\r\n        })\r\n\r\n        const setPage = (page) => {\r\n            curPage.value = page;\r\n            getList();\r\n        };\r\n\r\n        const add = async() => {\r\n            const res = await inviteCode.add(count.value);\r\n\r\n            result(res)\r\n                .success(() => {\r\n                    message.success(`成功添加${count.value}条数据`)\r\n                    getList();\r\n                });\r\n        }\r\n\r\n        const remove = async ({_id}) => {\r\n            const res = await inviteCode.remove(_id);\r\n\r\n            result(res)\r\n                .success(({msg}) => {\r\n                    message.success(msg);\r\n\r\n                    getList();\r\n                })\r\n        }\r\n\r\n        return {\r\n            count,\r\n            list,\r\n            total,\r\n            columns,\r\n            curPage,\r\n            add,\r\n            setPage,\r\n            remove\r\n        }\r\n    }\r\n})","import { render } from \"./index.vue?vue&type=template&id=6788e7d9\"\nimport script from \"./index.js?vue&type=script&lang=js\"\nexport * from \"./index.js?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\projects\\\\book-mgr-develop\\\\book-mgr-fe\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}